import Layout from "../layouts/Layout.astro"; 
const { frontmatter } = Astro.props;
---

<Layout title={`${frontmatter.title} - La Casa Que Canta`}>

<section class="grid md:grid-cols-[65%_35%] md:h-screen overflow-y-hidden">
  <!-- 🖼️ Slider (65%) -->
  <div>
    <!-- 🔹 Agregamos la clase activities-slider -->
    <div class="swiper mySwiper activities-slider overflow-hidden">
      <div class="swiper-wrapper">
        {frontmatter.items.map((item) => (
          <div class="swiper-slide">
            <img 
              class="cursor-pointer object-cover transition duration-300 ease-in-out w-full h-full" 
              src={item.image} 
              alt={frontmatter.title} 
            />
            {item.text && (
              <div class="slide-caption">{item.text}</div>
            )}
          </div>
        ))}
      </div>
      <div class="swiper-pagination"></div>
    </div>
  </div>

  <!-- 📝 Texto (35%) -->
  <div class="px-8 grid items-center my-8 prose-base md:px-12 lg:px-16">
    <div>
      <div class="mb-6">
        <h1 class="text-5xl lg:text-7xl font-bold">{frontmatter.title}</h1>
        {frontmatter.description && (
          <mark class="font-bold">{frontmatter.description}</mark>
        )}
      </div>
      <slot />
      <div class="mt-10">
        <a href="/" class="bg-black/90 font-semibold uppercase py-3 px-6 text-white hover:bg-black/60">
          Back to Home
        </a>
      </div>
    </div>
  </div>
</section>

<script>
  import Swiper from "swiper"
  import { Pagination, Autoplay } from "swiper/modules";

  import "swiper/css";
  import "swiper/css/navigation";
  import "swiper/css/pagination";

  var swiper = new Swiper(".mySwiper", {
    modules: [Pagination, Autoplay],
    spaceBetween: 30,
    centeredSlides: true,
    autoplay: {
      delay: 4000,
      disableOnInteraction: false,
    },
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },
  });
</script>

</Layout>
